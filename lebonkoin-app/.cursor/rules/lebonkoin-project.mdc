# üõí LEBONKOIN - MARKETPLACE D√âCENTRALIS√âE

## üéØ VISION DU PROJET
**LeBonKoin** est une plateforme d√©centralis√©e d'achat/vente d'objets physiques entre particuliers, combinant :
- **S√©curit√©** : Paiements USDC bloqu√©s jusqu'√† confirmation de r√©ception
- **Transparence** : Signature claire de toutes les transactions (ERC-7730)
- **Confiance** : Identit√© v√©rifi√©e anonymement via World ID
- **Libert√©** : Paiements multichain sans interm√©diaire centralis√©

## üèóÔ∏è ARCHITECTURE LEBONKOIN

### Stack Technique Sp√©cialis√©
```typescript
// Frontend: Next.js + TypeScript + Tailwind CSS
// Backend: Node.js + Express + MongoDB
// Blockchain: Ethereum (principal), Base, Arbitrum, Avalanche
// Paiements: Circle CCTP V2 (USDC multichain)
// Identit√©: World ID (KYC anonyme)
// Signatures: ERC-7730 (transparence totale)
```

### Structure Projet LeBonKoin
```
/src
  /components
    /marketplace    # Composants d'annonces et recherche
    /payment       # Composants de paiement CCTP V2
    /identity      # Composants World ID
    /escrow        # Composants de d√©p√¥t de garantie
  /hooks
    /useWorldID    # Hook d'authentification World ID
    /useCCTP       # Hook de paiements multichain
    /useEscrow     # Hook de gestion des d√©p√¥ts
  /services
    /worldService  # Service World ID
    /cctpService   # Service Circle CCTP V2
    /escrowService # Service de d√©p√¥t de garantie
  /contracts
    /LeBonKoinEscrow.sol    # Smart contract principal
    /ERC7730Descriptors/    # Fichiers JSON ERC-7730
```

## üîß INT√âGRATIONS SP√âCIFIQUES LEBONKOIN

### 1. World ID - Identit√© V√©rifi√©e Anonyme
```typescript
// OBLIGATOIRE : V√©rification World ID pour tous les utilisateurs
interface LeBonKoinUser {
  worldId: string;          // Identifiant World ID v√©rifi√©
  reputation: number;       // Score de r√©putation
  isVerified: boolean;      // Statut de v√©rification
  createdAt: Date;
}

// Cas d'usage LeBonKoin :
// ‚úÖ Inscription obligatoire avec World ID
// ‚úÖ Pr√©vention des faux comptes
// ‚úÖ Syst√®me de r√©putation bas√© sur l'identit√©
// ‚úÖ KYC anonyme pour la confiance
```

### 2. Circle CCTP V2 - Paiements USDC Multichain
```typescript
// Paiements USDC sur toutes les cha√Ænes support√©es
interface LeBonKoinPayment {
  listingId: string;        // ID de l'annonce
  buyerId: string;          // World ID de l'acheteur
  sellerId: string;         // World ID du vendeur
  amount: string;           // Montant en USDC
  sourceChain: string;      // Cha√Æne source du paiement
  escrowAddress: string;    // Adresse du contrat de d√©p√¥t
  status: 'pending' | 'escrowed' | 'released' | 'refunded';
}

// Flux de paiement LeBonKoin :
// 1. Acheteur paie en USDC (n'importe quelle cha√Æne CCTP V2)
// 2. Fonds bloqu√©s dans contrat escrow
// 3. Vendeur exp√©die l'objet
// 4. Acheteur confirme r√©ception
// 5. Fonds lib√©r√©s vers le vendeur
```

### 3. ERC-7730 - Signature Transparente
```typescript
// Descripteurs ERC-7730 pour toutes les actions LeBonKoin
interface LeBonKoinERC7730 {
  // Signature transparente pour paiement
  paymentDescriptor: {
    schemaVersion: "1.0.0",
    metadata: {
      name: "LeBonKoin - Paiement S√©curis√©",
      description: "Paiement pour achat d'objet avec d√©p√¥t de garantie"
    },
    display: {
      formats: [{
        intent: "Payer {{amount}} USDC pour {{itemName}}",
        fields: ["amount", "itemName", "sellerId"]
      }]
    }
  };
  
  // Signature transparente pour lib√©ration de fonds
  releaseDescriptor: {
    metadata: {
      name: "LeBonKoin - Confirmation de R√©ception",
      description: "Lib√©ration des fonds vers le vendeur"
    }
  };
}
```

## üìã FONCTIONNALIT√âS CORE LEBONKOIN

### üõçÔ∏è Marketplace
```typescript
// Annonces d'objets physiques
interface Listing {
  id: string;
  title: string;
  description: string;
  price: string;              // Prix en USDC
  images: string[];
  category: string;
  location: string;
  sellerId: string;           // World ID du vendeur
  acceptedChains: string[];   // Cha√Ænes CCTP V2 accept√©es
  status: 'active' | 'sold' | 'reserved';
  createdAt: Date;
}

// R√àGLES OBLIGATOIRES :
// ‚úÖ Seuls les utilisateurs World ID peuvent cr√©er des annonces
// ‚úÖ Prix uniquement en USDC
// ‚úÖ Support multichain via CCTP V2
// ‚úÖ G√©olocalisation pour objets physiques
```

### üîí Syst√®me Escrow (D√©p√¥t de Garantie)
```typescript
// Smart contract de d√©p√¥t s√©curis√©
interface EscrowContract {
  // Cr√©ation du d√©p√¥t
  createEscrow(listingId: string, buyerId: string, amount: string): Promise<string>;
  
  // Lib√©ration des fonds (acheteur confirme r√©ception)
  releaseFunds(escrowId: string): Promise<void>;
  
  // Remboursement (en cas de litige)
  refundBuyer(escrowId: string): Promise<void>;
  
  // Toutes les fonctions utilisent ERC-7730 pour signature transparente
}
```

### üåç Gestion Multichain
```typescript
// Support des 6 cha√Ænes CCTP V2
const LEBONKOIN_SUPPORTED_CHAINS = [
  'ethereum',    // Cha√Æne principale
  'base',        // Cha√Æne recommand√©e (frais bas)
  'arbitrum',    // Alternative L2
  'avalanche',   // Support suppl√©mentaire
  'linea',       // Expansion
  'sonic'        // Innovation
];

// Logique de r√©√©quilibrage automatique
// Les vendeurs peuvent recevoir sur leur cha√Æne pr√©f√©r√©e
// via les hooks CCTP V2 (BONUS POINTS)
```

## üöÄ PARCOURS UTILISATEUR LEBONKOIN

### 1. Inscription
```typescript
// Flux d'inscription obligatoire
const registrationFlow = {
  step1: "Connexion World ID",
  step2: "V√©rification d'identit√© anonyme",
  step3: "Cr√©ation du profil LeBonKoin",
  step4: "Configuration des pr√©f√©rences de cha√Æne"
};
```

### 2. Vente d'Objet
```typescript
const sellingFlow = {
  step1: "Cr√©ation de l'annonce avec photos",
  step2: "D√©finition du prix en USDC",
  step3: "S√©lection des cha√Ænes accept√©es",
  step4: "Publication sur la marketplace"
};
```

### 3. Achat d'Objet
```typescript
const buyingFlow = {
  step1: "S√©lection de l'objet",
  step2: "Signature ERC-7730 transparente du paiement",
  step3: "Paiement USDC bloqu√© en escrow",
  step4: "Attente de livraison",
  step5: "Confirmation de r√©ception",
  step6: "Signature ERC-7730 de lib√©ration des fonds"
};
```

## üõ°Ô∏è S√âCURIT√â LEBONKOIN

### Protection Anti-Fraude
```typescript
// Mesures de s√©curit√© obligatoires
const securityMeasures = {
  worldIdVerification: true,    // Identit√© v√©rifi√©e
  escrowProtection: true,       // Fonds prot√©g√©s
  clearSigning: true,          // Signature transparente
  reputationSystem: true,      // Syst√®me de r√©putation
  disputeResolution: true      // R√©solution de litiges
};
```

### Gestion des Litiges
```typescript
// Processus de r√©solution de conflit
interface DisputeResolution {
  timeoutPeriod: number;       // D√©lai avant litige automatique
  mediationProcess: boolean;   // M√©diation communautaire
  automaticRefund: boolean;    // Remboursement automatique
  reputationImpact: boolean;   // Impact sur la r√©putation
}
```

## üìä M√âTRIQUES DE SUCC√àS LEBONKOIN

### KPIs Techniques
- ‚úÖ Temps de transaction cross-chain < 5 minutes
- ‚úÖ Taux de r√©ussite des signatures ERC-7730 > 98%
- ‚úÖ Support des 6 cha√Ænes CCTP V2 fonctionnel
- ‚úÖ V√©rification World ID √† 100%

### KPIs Business
- ‚úÖ Taux de satisfaction utilisateur > 95%
- ‚úÖ Temps de r√©solution des litiges < 48h
- ‚úÖ Croissance du nombre d'annonces
- ‚úÖ Volume de transactions USDC

## üéØ DIFF√âRENCIATEURS LEBONKOIN

### Avantages Concurrentiels
1. **S√©curit√© maximale** : Fonds prot√©g√©s par escrow + World ID
2. **Transparence totale** : Signature claire de toutes les actions
3. **Libert√© de paiement** : USDC sur 6 cha√Ænes diff√©rentes
4. **Identit√© v√©rifi√©e** : Confiance sans r√©v√©ler l'identit√© r√©elle
5. **Frais minimaux** : Pas d'interm√©diaire centralis√©

### Innovation Technique
- Premier marketplace d√©centralis√© avec ERC-7730
- Int√©gration native World ID pour la confiance
- Paiements multichain transparents
- Syst√®me de r√©putation d√©centralis√©

---

**üéØ MISSION LEBONKOIN** : R√©volutionner les √©changes entre particuliers en combinant la simplicit√© d'usage de LeBonCoin avec la s√©curit√©, la transparence et la libert√© de la blockchain.

**üí° CHAQUE FONCTIONNALIT√â** doit servir la mission : faciliter les √©changes s√©curis√©s d'objets physiques entre personnes r√©elles, v√©rifi√©es mais anonymes.
